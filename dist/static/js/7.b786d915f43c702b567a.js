webpackJsonp([7],{"9EKJ":function(t,a){},hoKz:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("Foau"),i=e("5eyz"),s=e("141c"),o=(e("mtWM"),{data:function(){var t=this;return{imgUrl:"",loading2:!1,clsname:"",columns:[{title:"分类名称",key:"name",render:function(t,a){return t("div",[t("Icon",{props:{type:"person"}}),t("strong",a.row.name)])}},{title:"分类id",key:"id"},{title:"图标",key:"icon"},{title:"添加时间",key:"time"},{title:"操作",key:"action",width:150,align:"center",render:function(a,e){return a("div",[a("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(e.index)}}},"View"),a("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(e.index)}}},"Delete")])}}],clsdata:[{name:"John Brown",id:18,icon:"New York No. 1 Lake Park",time:"2018-12-18"}]}},methods:{getImg:function(){var t=this,a=new FormData;a.append("logo",this.$refs.upload.files[0]),Object(n.b)(a).then(function(a){console.log(a.data),a.data.success&&(t.imgUrl=a.data.filePath,t.$Message.success("Upload success~"))})},addBlogCla:function(){var t=this,a=this;if(this.loading2=!0,""==a.clsname)a.$Message.error("请输入分类名称！"),a.loading2=!1;else if(""==a.imgUrl)a.$Message.error("请选择分类图标！"),a.loading2=!1;else{var e={name:a.clsname,avatar:a.imgUrl,createTime:s.format(new Date,"YYYY-MM-DD HH:mm:ss"),updateTime:s.format(new Date,"YYYY-MM-DD HH:mm:ss")};Object(i.c)(e).then(function(e){console.log(e.data),a.loading2=!1,"1"==e.data.success?(a.$Message.success(e.data.message),Object(i.b)().then(function(a){console.log(a),t.clsdata=[];var e=a.data.data;for(var n in a.data.data){var i={name:e[n].name,id:e[n]._id,icon:e[n].avatar,time:e[n].createTime};t.clsdata.push(i)}})):a.$Message.warning(e.data.message)})}},show:function(t){this.$Modal.info({title:"分类信息",content:"分类名称："+this.clsdata[t].name+"<br>分类ID："+this.clsdata[t].id+"<br>图标："+this.clsdata[t].icon+"<br>添加时间："+this.clsdata[t].time})},remove:function(t){this.clsdata.splice(t,1)}},mounted:function(){var t=this;Object(i.b)().then(function(a){console.log(a),t.clsdata=[];var e=a.data.data;for(var n in a.data.data){var i={name:e[n].name,id:e[n]._id,icon:e[n].avatar,time:e[n].createTime};t.clsdata.push(i)}})}}),l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{padding:"15px"}},[e("div",{staticClass:"clsinput"},[e("div",{staticClass:"imgUpDiv"},[e("input",{ref:"upload",staticClass:"imgUp",attrs:{type:"file",name:"logo",id:"file",accept:"image/*"},on:{change:t.getImg}}),t._v(" "),e("label",{attrs:{for:"file"}},[e("Icon",{attrs:{type:"ios-albums-outline"}}),t._v(" 点击上传图标")],1)]),t._v(" "),t.imgUrl?e("img",{attrs:{src:t.imgUrl,alt:""}}):t._e(),t._v(" "),e("Poptip",{attrs:{trigger:"focus"}},[e("Input",{staticStyle:{width:"150px"},attrs:{prefix:"",placeholder:"分类名称"},model:{value:t.clsname,callback:function(a){t.clsname=a},expression:"clsname"}}),t._v(" "),e("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.clsname))])],1),t._v(" "),e("Button",{staticStyle:{height:"30px",margin:"25px"},attrs:{type:"primary",loading:t.loading2,icon:"ios-add-circle-outline"},on:{click:t.addBlogCla}},[t.loading2?e("span",[t._v("Loading")]):e("span",[t._v("添加")])])],1),t._v(" "),e("Table",{attrs:{border:"",columns:t.columns,data:t.clsdata}})],1)},staticRenderFns:[]};var c=e("VU/8")(o,l,!1,function(t){e("9EKJ")},null,null);a.default=c.exports}});
//# sourceMappingURL=7.b786d915f43c702b567a.js.map
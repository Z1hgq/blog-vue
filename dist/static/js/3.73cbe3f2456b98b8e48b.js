webpackJsonp([3],{"5eyz":function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"a",function(){return s});var n=a("xXZE"),i=function(t){var e={name:t.name,avatar:t.avatar,createTime:t.createTime,updateTime:t.updateTime};return n.a.request({url:"addBlogCla",data:e,method:"post"})},s=function(){return n.a.request({url:"getCls",method:"get"})}},M26w:function(t,e){},hoKz:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Foau"),i=a("5eyz"),s=(a("mtWM"),{data:function(){var t=this;return{imgUrl:"",loading2:!1,clsname:"",columns:[{title:"分类名称",key:"name",render:function(t,e){return t("div",[t("Icon",{props:{type:"person"}}),t("strong",e.row.name)])}},{title:"分类id",key:"id"},{title:"图标",key:"icon"},{title:"添加时间",key:"time"},{title:"操作",key:"action",width:150,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.show(a.index)}}},"View"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(a.index)}}},"Delete")])}}],clsdata:[{name:"John Brown",id:18,icon:"New York No. 1 Lake Park",time:"2018-12-18"}]}},methods:{getImg:function(){var t=this,e=new FormData;e.append("logo",this.$refs.upload.files[0]),Object(n.b)(e).then(function(e){console.log(e.data),e.data.success&&(t.imgUrl=e.data.filePath,t.$Message.success("Upload success~"))})},addBlogCla:function(){var t=this,e=this;if(this.loading2=!0,""==e.clsname)e.$Message.success("请输入分类名称！"),e.loading2=!1;else if(""==e.imgUrl)e.$Message.success("请选择分类图标！"),e.loading2=!1;else{var a={name:e.clsname,avatar:e.imgUrl,createTime:Date.now(),updateTime:Date.now()};Object(i.b)(a).then(function(a){console.log(a.data),e.loading2=!1,"1"==a.data.success?(e.$Message.success(a.data.message),Object(i.a)().then(function(e){console.log(e),t.clsdata=[];var a=e.data.data;for(var n in e.data.data){var i={name:a[n].name,id:a[n]._id,icon:a[n].avatar,time:a[n].createTime};t.clsdata.push(i)}})):e.$Message.success(a.data.message)})}},show:function(t){this.$Modal.info({title:"分类信息",content:"分类名称："+this.clsdata[t].name+"<br>分类ID："+this.clsdata[t].id+"<br>图标："+this.clsdata[t].icon+"<br>添加时间："+this.clsdata[t].time})},remove:function(t){this.clsdata.splice(t,1)}},mounted:function(){var t=this;Object(i.a)().then(function(e){console.log(e),t.clsdata=[];var a=e.data.data;for(var n in e.data.data){var i={name:a[n].name,id:a[n]._id,icon:a[n].avatar,time:a[n].createTime};t.clsdata.push(i)}})}}),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"15px"}},[a("div",{staticClass:"clsinput"},[a("div",{staticClass:"imgUpDiv"},[a("input",{ref:"upload",staticClass:"imgUp",attrs:{type:"file",name:"logo",id:"file",accept:"image/*"},on:{change:t.getImg}}),t._v(" "),a("label",{attrs:{for:"file"}},[a("Icon",{attrs:{type:"ios-albums-outline"}}),t._v(" 点击上传图标")],1)]),t._v(" "),t.imgUrl?a("img",{attrs:{src:t.imgUrl,alt:""}}):t._e(),t._v(" "),a("Poptip",{attrs:{trigger:"focus"}},[a("Input",{staticStyle:{width:"150px"},attrs:{prefix:"",placeholder:"分类名称"},model:{value:t.clsname,callback:function(e){t.clsname=e},expression:"clsname"}}),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.clsname))])],1),t._v(" "),a("Button",{staticStyle:{height:"30px",margin:"25px"},attrs:{type:"primary",loading:t.loading2,icon:"ios-add-circle-outline"},on:{click:t.addBlogCla}},[t.loading2?a("span",[t._v("Loading")]):a("span",[t._v("添加")])])],1),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns,data:t.clsdata}})],1)},staticRenderFns:[]};var c=a("VU/8")(s,o,!1,function(t){a("M26w")},null,null);e.default=c.exports}});
//# sourceMappingURL=3.73cbe3f2456b98b8e48b.js.map